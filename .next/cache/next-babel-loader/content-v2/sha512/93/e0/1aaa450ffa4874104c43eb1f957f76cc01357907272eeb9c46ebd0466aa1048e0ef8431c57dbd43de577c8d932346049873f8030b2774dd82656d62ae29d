{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/sophia/projects/coffee-grinder-frontend/src/components/Coffee/CoffeeCard.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Text } from \"../../elements/Text\";\nimport { H2 } from \"../../elements/Heading\"; // import { Image } from \"../../elements/Image\";\n\nimport Image from \"next/image\";\nimport { Stack } from \"../../layout/Stack\";\nimport { formatCurrency } from \"../../lib/utils/formatCurrency\";\nimport { Rating } from \"../Rating\";\nimport { storage } from \"../../lib/firebase/index\";\nimport { FALLBACK_COFFEE_URL } from \"../../lib/constants\";\nimport { Inline } from \"../../layout/Inline\";\nimport { COLORS } from \"../../materials/colors\";\nconst StyledCard = styled.div`\n  width: 100%;\n  border-radius: 4px;\n  filter: drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.25));\n  background-color: ${COLORS.white};\n`;\n_c = StyledCard;\nconst StyledStack = styled(Stack)`\n  padding: 16px;\n`;\n_c2 = StyledStack;\nexport const CoffeeCard = ({\n  coffee,\n  variant\n}) => {\n  _s();\n\n  // place image url directly in db to prevent loading here\n  const {\n    0: image,\n    1: setImage\n  } = useState(FALLBACK_COFFEE_URL);\n  useEffect(() => {\n    storage.ref(`coffee/${coffee.photo}.${coffee.name.replace(\" \", \"\")}`).getDownloadURL().then(url => {\n      setImage(url);\n    });\n  }, [coffee.photo]);\n  const {\n    name,\n    rating,\n    configurations\n  } = coffee;\n  const {\n    size,\n    amount\n  } = configurations.length > 0 ? configurations[0] : {\n    size: \"\",\n    amount: \"\"\n  };\n  return /*#__PURE__*/_jsxDEV(StyledCard, {\n    children: /*#__PURE__*/_jsxDEV(Inline, {\n      alignItems: \"center\",\n      gap: \"12px\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"129px\",\n          width: \"104px\",\n          position: \"relative\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          layout: \"fill\",\n          alt: \"coffee\",\n          src: image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledStack, {\n        justifyContent: \"space-between\",\n        gap: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(Rating, {\n          maxRating: 5,\n          rating: rating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(H2, {\n          fontWeight: \"bold\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), variant === \"configure\" && /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Text, {\n                  children: \"Grind size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Text, {\n                  children: size\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Text, {\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Text, {\n                  children: amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), variant === \"buy\" && /*#__PURE__*/_jsxDEV(Stack, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            color: \"black\",\n            italic: true,\n            children: [coffee.street, \" \", coffee.zip, \" \", coffee.city]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Inline, {\n            gap: \"4px\",\n            alignItems: \"baseline\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              size: \"16px\",\n              children: [formatCurrency(coffee.prices[0].price), \" /\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              size: \"12px\",\n              children: coffee.prices[0].grams\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CoffeeCard, \"i8nI3hfD6eySINKusCPOQM9lm5A=\");\n\n_c3 = CoffeeCard;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"StyledCard\");\n$RefreshReg$(_c2, \"StyledStack\");\n$RefreshReg$(_c3, \"CoffeeCard\");","map":{"version":3,"sources":["/home/sophia/projects/coffee-grinder-frontend/src/components/Coffee/CoffeeCard.tsx"],"names":["React","useEffect","useState","styled","Text","H2","Image","Stack","formatCurrency","Rating","storage","FALLBACK_COFFEE_URL","Inline","COLORS","StyledCard","div","white","StyledStack","CoffeeCard","coffee","variant","image","setImage","ref","photo","name","replace","getDownloadURL","then","url","rating","configurations","size","amount","length","height","width","position","street","zip","city","prices","price","grams"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Text } from \"../../elements/Text\";\nimport { H2, H3 } from \"../../elements/Heading\";\n// import { Image } from \"../../elements/Image\";\nimport Image from \"next/image\";\nimport { Stack } from \"../../layout/Stack\";\nimport { formatCurrency } from \"../../lib/utils/formatCurrency\";\nimport { Rating } from \"../Rating\";\nimport { Coffee } from \"./types\";\nimport { storage } from \"../../lib/firebase/index\";\nimport { FALLBACK_COFFEE_URL } from \"../../lib/constants\";\nimport { Inline } from \"../../layout/Inline\";\nimport { COLORS } from \"../../materials/colors\";\n\nconst StyledCard = styled.div`\n  width: 100%;\n  border-radius: 4px;\n  filter: drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.25));\n  background-color: ${COLORS.white};\n`;\n\nconst StyledStack = styled(Stack)`\n  padding: 16px;\n`;\n\ninterface CoffeeCardProps {\n  coffee: Coffee;\n  variant: \"buy\" | \"configure\";\n}\n\nexport const CoffeeCard: React.FC<CoffeeCardProps> = ({ coffee, variant }) => {\n  // place image url directly in db to prevent loading here\n  const [image, setImage] = useState<string>(FALLBACK_COFFEE_URL);\n\n  useEffect(() => {\n    storage\n      .ref(`coffee/${coffee.photo}.${coffee.name.replace(\" \", \"\")}`)\n      .getDownloadURL()\n      .then((url) => {\n        setImage(url);\n      });\n  }, [coffee.photo]);\n\n  const { name, rating, configurations } = coffee;\n  const { size, amount } =\n    configurations.length > 0 ? configurations[0] : { size: \"\", amount: \"\" };\n\n  return (\n    <StyledCard>\n      <Inline alignItems=\"center\" gap=\"12px\">\n        <div style={{ height: \"129px\", width: \"104px\", position: \"relative\" }}>\n          <Image layout=\"fill\" alt=\"coffee\" src={image} />\n        </div>\n        <StyledStack justifyContent=\"space-between\" gap=\"4px\">\n          <Rating maxRating={5} rating={rating} />\n          <H2 fontWeight=\"bold\">{name}</H2>\n          {variant === \"configure\" && (\n            <table>\n              <tbody>\n                <tr>\n                  <td>\n                    <Text>Grind size</Text>\n                  </td>\n                  <td>\n                    <Text>{size}</Text>\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <Text>Amount</Text>\n                  </td>\n                  <td>\n                    <Text>{amount}</Text>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          )}\n          {variant === \"buy\" && (\n            <Stack>\n              <Text color=\"black\" italic>\n                {coffee.street} {coffee.zip} {coffee.city}\n              </Text>\n              <Inline gap=\"4px\" alignItems=\"baseline\">\n                <Text size=\"16px\">\n                  {formatCurrency(coffee.prices[0].price)} /{\" \"}\n                </Text>\n                <Text size=\"12px\">{coffee.prices[0].grams}</Text>\n              </Inline>\n            </Stack>\n          )}\n        </StyledStack>\n      </Inline>\n    </StyledCard>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}